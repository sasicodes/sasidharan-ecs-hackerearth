{"ast":null,"code":"import _slicedToArray from\"/home/sasi/PERSONAL/pseudo-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import{URL_PATH}from\"../config/urlPath\";import PlayCard from\"./PlayCard\";export default function Play(props){var _useState=useState(props.location.state.users||[]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedUsers=_useState4[0],setSelectedUsers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),randomNumber=_useState6[0],setRandomNumber=_useState6[1];var history=useHistory();useEffect(function(){var random=Math.floor(Math.random()*(9-1+1)+1);setRandomNumber(random);},[]);useEffect(function(){setSelectedUsersToState();},[users]);var setSelectedUsersToState=function setSelectedUsersToState(){var userList=users;var tempArray=[];userList.forEach(function(element){if(element.isSelected){tempArray.push(element);}});setSelectedUsers(JSON.parse(JSON.stringify(tempArray)));};var _increaseWinToUser=function increaseWinToUser(id){var userList=users;userList.forEach(function(element){if(element.id===id){element.wins=element.wins+1;element.Price=element.Price*2;}else{element.loss=element.loss+1;element.Price=0;}});setUsers(JSON.parse(JSON.stringify(userList)));};return/*#__PURE__*/React.createElement(\"div\",{className:\"play-area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center\"},selectedUsers&&selectedUsers.map(function(user,i){return i<5&&/*#__PURE__*/React.createElement(PlayCard,{key:i,user:user,randomNumber:randomNumber,increaseWinToUser:function increaseWinToUser(id){return _increaseWinToUser(id);}});})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center my-30\"},/*#__PURE__*/React.createElement(\"div\",{className:\"circle\"},/*#__PURE__*/React.createElement(\"p\",null,randomNumber)))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center\"},selectedUsers&&selectedUsers.map(function(user,i){return i>4&&/*#__PURE__*/React.createElement(PlayCard,{key:i,user:user,randomNumber:randomNumber,increaseWinToUser:function increaseWinToUser(id){return _increaseWinToUser(id);}});}))),/*#__PURE__*/React.createElement(\"button\",{className:\"back-btn\",onClick:function onClick(){history.push({pathname:URL_PATH.USER_LIST,state:{users:users}});}},\"BACK\"));}","map":{"version":3,"sources":["/home/sasi/PERSONAL/pseudo-react-app/src/components/Play.js"],"names":["React","useState","useEffect","useHistory","URL_PATH","PlayCard","Play","props","location","state","users","setUsers","selectedUsers","setSelectedUsers","randomNumber","setRandomNumber","history","random","Math","floor","setSelectedUsersToState","userList","tempArray","forEach","element","isSelected","push","JSON","parse","stringify","increaseWinToUser","id","wins","Price","loss","map","user","i","pathname","USER_LIST"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { URL_PATH } from \"../config/urlPath\";\nimport PlayCard from \"./PlayCard\";\n\nexport default function Play(props) {\n  const [users, setUsers] = useState(props.location.state.users || []);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [randomNumber, setRandomNumber] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    const random = Math.floor(Math.random() * (9 - 1 + 1) + 1);\n    setRandomNumber(random);\n  }, []);\n\n  useEffect(() => {\n    setSelectedUsersToState();\n  }, [users]);\n\n  const setSelectedUsersToState = () => {\n    let userList = users;\n    let tempArray = [];\n    userList.forEach((element) => {\n      if (element.isSelected) {\n        tempArray.push(element);\n      }\n    });\n    setSelectedUsers(JSON.parse(JSON.stringify(tempArray)));\n  };\n\n  const increaseWinToUser = (id) => {\n    let userList = users;\n    userList.forEach((element) => {\n      if (element.id === id) {\n        element.wins = element.wins + 1;\n        element.Price = element.Price * 2;\n      } else {\n        element.loss = element.loss + 1;\n        element.Price = 0;\n      }\n    });\n    setUsers(JSON.parse(JSON.stringify(userList)));\n  };\n\n  return (\n    <div className=\"play-area\">\n      <div className=\"my-auto\">\n        <div className=\"flex justify-center\">\n          {selectedUsers &&\n            selectedUsers.map((user, i) => {\n              return (\n                i < 5 && (\n                  <PlayCard\n                    key={i}\n                    user={user}\n                    randomNumber={randomNumber}\n                    increaseWinToUser={(id) => increaseWinToUser(id)}\n                  />\n                )\n              );\n            })}\n        </div>\n        <div>\n          <div className=\"flex justify-center my-30\">\n            <div className=\"circle\">\n              <p>{randomNumber}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex justify-center\">\n          {selectedUsers &&\n            selectedUsers.map((user, i) => {\n              return (\n                i > 4 && (\n                  <PlayCard\n                    key={i}\n                    user={user}\n                    randomNumber={randomNumber}\n                    increaseWinToUser={(id) => increaseWinToUser(id)}\n                  />\n                )\n              );\n            })}\n        </div>\n      </div>\n      <button\n        className=\"back-btn\"\n        onClick={() => {\n          history.push({\n            pathname: URL_PATH.USER_LIST,\n            state: { users: users },\n          });\n        }}\n      >\n        BACK\n      </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}