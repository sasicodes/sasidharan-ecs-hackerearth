{"ast":null,"code":"var _jsxFileName = \"/home/sasi/PERSONAL/pseudo-react-app/src/components/RecipeList.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport URL_PATH from \"../config/index\";\nimport RecipeCard from \"./RecipeCard\";\nimport SearchBar from \"./Searchbar\";\n\nclass RecipeList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showLoading: false,\n      recipeList: [],\n      responseError: \"Unable to fetch recipes. Please try again\",\n      searchText: \"\",\n      showMessage: false,\n      currentTime: \"\",\n      filteredArray: []\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        showLoading: true\n      });\n      axios.get(URL_PATH.LIST_URL).then(response => {\n        this.setState({\n          recipeList: response.data\n        });\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          showMessage: true\n        });\n      }).finally(() => {\n        this.setState({\n          showLoading: false\n        });\n      });\n      setInterval(() => {\n        this.setState({\n          currentTime: new Date().toLocaleString()\n        });\n      }, 6000);\n    };\n\n    this.searchRecipe = event => {\n      this.setState({\n        searchText: event.target.value\n      });\n      let recipes = this.state.recipeList;\n      let filteredArray = recipes.length && recipes.filter(data => JSON.stringify(data).toLowerCase().indexOf(event.target.value.toLowerCase()) !== -1);\n      this.setState({\n        filteredArray\n      });\n    };\n  }\n\n  render() {\n    const {\n      recipeList,\n      filteredArray\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content mx-auto h-full\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, this.state.currentTime), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex content-center items-center justify-center h-full\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      searchRecipe: e => this.searchRecipe(e),\n      searchText: this.state.searchText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }), this.state.showMessage ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }, this.state.responseError) : \"\", this.state.showLoading ? \"Loading...\" : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, \"CATEGORY\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }, \"Pizza & Noodles\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"main\", {\n      class: \"grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, filteredArray.length ? filteredArray.map((recipe, index) => {\n      return /*#__PURE__*/React.createElement(RecipeCard, {\n        key: index,\n        recipe: recipe,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 32\n        }\n      });\n    }) : recipeList.map((recipe, index) => {\n      return /*#__PURE__*/React.createElement(RecipeCard, {\n        key: index,\n        recipe: recipe,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 32\n        }\n      });\n    }))))));\n  }\n\n}\n\nexport default RecipeList;","map":{"version":3,"sources":["/home/sasi/PERSONAL/pseudo-react-app/src/components/RecipeList.js"],"names":["React","Component","axios","URL_PATH","RecipeCard","SearchBar","RecipeList","state","showLoading","recipeList","responseError","searchText","showMessage","currentTime","filteredArray","componentDidMount","setState","get","LIST_URL","then","response","data","console","log","catch","error","finally","setInterval","Date","toLocaleString","searchRecipe","event","target","value","recipes","length","filter","JSON","stringify","toLowerCase","indexOf","render","e","map","recipe","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport URL_PATH from \"../config/index\";\nimport RecipeCard from \"./RecipeCard\";\nimport SearchBar from \"./Searchbar\";\n\nclass RecipeList extends Component {\n  state = {\n    showLoading: false,\n    recipeList: [],\n    responseError: \"Unable to fetch recipes. Please try again\",\n    searchText: \"\",\n    showMessage: false,\n    currentTime: \"\",\n    filteredArray: [],\n  };\n\n  componentDidMount = () => {\n    this.setState({ showLoading: true });\n    axios\n      .get(URL_PATH.LIST_URL)\n      .then((response) => {\n        this.setState({ recipeList: response.data });\n        console.log(response);\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({ showMessage: true });\n      })\n      .finally(() => {\n        this.setState({ showLoading: false });\n      });\n\n    setInterval(() => {\n      this.setState({ currentTime: new Date().toLocaleString() });\n    }, 6000);\n  };\n\n  searchRecipe = (event) => {\n    this.setState({ searchText: event.target.value });\n    let recipes = this.state.recipeList;\n    let filteredArray =\n      recipes.length &&\n      recipes.filter(\n        (data) =>\n          JSON.stringify(data)\n            .toLowerCase()\n            .indexOf(event.target.value.toLowerCase()) !== -1\n      );\n    this.setState({ filteredArray });\n  };\n\n  render() {\n    const { recipeList, filteredArray } = this.state;\n    return (\n      <div className=\"content mx-auto h-full\">\n        <h1>{this.state.currentTime}</h1>\n        <div className=\"flex content-center items-center justify-center h-full\">\n          <SearchBar\n            searchRecipe={(e) => this.searchRecipe(e)}\n            searchText={this.state.searchText}\n          />\n          {this.state.showMessage ? <p>{this.state.responseError}</p> : \"\"}\n          {this.state.showLoading ? (\n            \"Loading...\"\n          ) : (\n            <>\n              <div className=\"heading\">\n                <div>\n                  <span className=\"category\">CATEGORY</span>\n                  <h1>Pizza & Noodles</h1>\n                </div>\n              </div>\n              <div class=\"container\">\n                <main class=\"grid\">\n                  {filteredArray.length\n                    ? filteredArray.map((recipe, index) => {\n                        return <RecipeCard key={index} recipe={recipe} />;\n                      })\n                    : recipeList.map((recipe, index) => {\n                        return <RecipeCard key={index} recipe={recipe} />;\n                      })}\n                </main>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RecipeList;\n"]},"metadata":{},"sourceType":"module"}